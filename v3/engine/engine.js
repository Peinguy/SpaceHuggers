/*
    LittleJS - The Little JavaScript Game Engine That Can - By Frank Force 2021

    Engine Features
    - Engine and debug system are separate from game code
    - Object oriented with base class engine object
    - Engine handles core update loop
    - Base class object handles update, physics, collision, rendering, etc
    - Engine helper classes and functions like Vector2, Color, and Timer
    - Super fast rendering system for tile sheets
    - Sound effects audio with zzfx and music with zzfxm
    - Input processing system with gamepad and touchscreen support
    - Tile layer rendering and collision system
    - Particle effect system
    - Automatically calls appInit(), appUpdate(), appUpdatePost(), appRender(), appRenderPost()
    - Debug tools and debug rendering system
    - Call engineInit() to start it up!
*/

'use strict';

///////////////////////////////////////////////////////////////////////////////
// engine config

const engineName = 'LittleJS';
const engineVersion = 'v0.74';
const FPS = 60, timeDelta = 1/FPS;
const defaultFont = 'arial'; // font used for text rendering
const maxWidth = 1920, maxHeight = 1200; // up to 1080p and 16:10
const fixedWidth = 0; // native resolution
//const fixedWidth = 1280, fixedHeight = 720; // 720p
//const fixedWidth = 128,  fixedHeight = 128; // PICO-8
//const fixedWidth = 240,  fixedHeight = 136; // TIC-80

// tile sheet settings
//const defaultTilesFilename = 'a.png'; // everything goes in one tile sheet
const defaultTileSize = vec2(16); // default size of tiles in pixels
const tileBleedShrinkFix = .3;    // prevent tile bleeding from neighbors
const pixelated = 1;              // use crisp pixels for pixel art
let game = false;
let sy = 48.5;

///////////////////////////////////////////////////////////////////////////////
// core engine

const gravity = -.01;
let mainCanvas=0, mainContext=0, mainCanvasSize=vec2();
let engineObjects=[], engineCollideObjects=[];
let frame=0, time=0, realTime=0, paused=0, frameTimeLastMS=0, frameTimeBufferMS=0, debugFPS=0;
let cameraPos=vec2(), cameraScale=4*max(defaultTileSize.x, defaultTileSize.y);
let tileImageSize, tileImageSizeInverse, shrinkTilesX, shrinkTilesY, drawCount;

const tileImage = new Image(); // the tile image used by everything

async function Menu(){
	let PressStart = new FontFace("Press Start", "url(data:application/font-sfnt;base64,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/gAEAP0A/wABAAEABwD/AP8A/wD/AP8A/wD/AAEAAQABAAEAAQABAAEAAAMBAAAABwAHAAADAAcAHwAAAREhEQEhESEBESERIREhESERIREhESERIREhESERIREDAP4ABAACAP4AAgD/AP8A/wD/AP8A/wABAAEAAQABAAEABwD+AAIA+wD+AAcA/gD/AP8A/wD/AP8AAgABAAEAAQABAAEAAAQAAAAABwAHAAAFAAkADQApAAABESERIRkCIRkCIREBIREhESERIREhESERIREhESERIREhESERIREhAgACAP8AAQABAPsAAQABAP8AAQADAAEA/wACAP8AAQD+AP8A/QD/AAMA/gABAAEAAwD/AAEA/gD/AAEA/wABAAEAAQABAP8A/wD/AP8A/gD/AAEA/wABAAABAwAEAAUABwAAAwAAAREhEQUA/gAHAP0AAwAAAQIAAAAGAAcAABMAAAERIREhESERIREhESERIREhESERBgD/AP8AAQABAP4A/wD/AAEAAQAHAP8A/wD9AP8A/wABAAEAAwABAAEAAAECAAAABgAHAAATAAABESERIREhESERIREhESERIREhEQQAAQABAP8A/wD+AAEAAQD/AP8ABwD/AP8A/QD/AP8AAQABAAMAAQABAAABAAABAAcABgAAGwAAESERIREhESERIREhESERIREhESERIREhESERIQIA/wACAAEAAgD/AAIA/gABAP4A/wD+AAEA/gAEAAEAAQD/AAEA/wD/AP8A/wD/AAEA/wABAAEAAAEBAAEABwAGAAALAAABIREhESERIREhESEDAAIAAgD+AP4A/gACAAYA/gD/AP4AAgABAAABAgD/AAUAAgAABwAAASERIREhESEDAAIA/wD+AAEAAgD+AP8AAQAAAQEAAwAHAAQAAAMAAAEhESEBAAYA+gAEAP8AAAEDAAAABQACAAADAAABIREhAwACAP4AAgD+AAABAQAAAAcABwAAFwAAAREhESERIREhESERIREhESERIREhESERBwD/AP8A/wD/AP8A/wABAAEAAQABAAEABwD+AP8A/wD/AP8A/wACAAEAAQABAAEAAQAAAgAAAAAHAAcAAAcAGwAAAREhESERIREBIREhESERIREhESERIREhESERIQIAAQACAP8A/AABAAEAAwABAAEA/wD/AP0A/wD/AAYA/AD/AAQAAQD/AAEAAQD/AP8A/QD/AP8AAQABAAABAQAAAAcABwAACwAAAREhESERIREhESERBQACAPoAAgD/AAEABwD6AP8AAQAEAAEAAQAAAQAAAAAHAAcAABsAABEhESERIREhESERIREhEyERIREhESERIREhESEBAAEAAgABAP0A/gABAAgE+AEA/wD/AP4ABAD5AAIAAQABAAEAAQD/AAEAAQD/AP4A/wD/AP8A/wAAAAEAAAAABwAHAAAbAAARIREhESERIREhESERIREhESERIREhESERIREhAgADAP0AAQABAP0ABgD/AP8AAQABAP8A+wD/AAIA/wACAAEAAQABAAEA/wD/AP8A/wD+AP8AAQAAAgAAAAAHAAcAAAUAFQAAAREhESERKQERIREhESERIREhESERIQIAAgD/AP0AAQABAAEAAwABAP8A/gD8AAQA/wACAP8AAQABAAEA/AD/AP4AAgAAAQAAAAAHAAcAABMAABEhESERIREhESERIREhESERIREhAgADAPsABgD8AAQAAQD/APsA/wACAP8AAwADAP8A/wD/AP0A/wABAAACAAAAAAcABwAAAwAXAAABESERASERIREhESERIREhESERIREhESECAAMA+wABAAEABAD9AP8ABAABAP8A+wD/AAMA/gACAAIAAQABAP8A/wD/AP8A/gD/AAEAAAEAAAAABwAHAAATAAARIREhESERIREhESERIREhESERIQcA/wD/AP8A/gABAAEAAQD9AP4ABwD+AP8A/wD9AAMAAQABAAEA/wAAAwAAAAAHAAcAAAUACwAfAAABESERIREBESERIREBIREhESERIREhESERIREhESERIQEABAD+AP4AAQADAPsAAQD/AAEABAABAP8AAgD/APsA/wADAP4AAQABAAMA/wD/AAIA/QABAAIAAQD/AP4A/wD+AP8AAQAAAgAAAAAHAAcAAAMAFwAAAREhESkBESERIREhESERIREhESERIREhAgADAPsAAQAFAAEA/wD/APwAAwABAPwA/wAGAP4AAgABAP8A/AD/AP8AAQABAAEAAQAAAgMAAAAFAAUAAAMABwAAASERIREhESEDAAIA/gACAP4AAgD+AAUA/gAAAgIA/wAFAAUAAAcACwAAASERIREhESERIREhAwACAP8A/gABAAIA/gACAP4A/wABAAUA/gAAAQEAAAAGAAcAABsAAAERIREhESERIREhESERIREhESERIREhESERIREGAP8A/wD/AAEAAQABAP4A/wD/AP8AAQABAAEABwD/AP8A/wD/AP8A/wD/AAEAAQABAAEAAQABAAEAAAICAAIABgAFAAADAAcAAAEhESERIREhAgAEAPwABAD8AAMA/wADAP8AAAECAAAABwAHAAAbAAABESERIREhESERIREhESERIREhESERIREhESERBAABAAEAAQD/AP8A/wD+AAEAAQABAP8A/wD/AAcA/wD/AP8A/wD/AP8A/wABAAEAAQABAAEAAQABAAACAAAAAAcABwAAAwAXAAABIREhASERIREhESERIREhESERIREhESECAAMA/QD+AAEABQABAP8A/wD9AAEAAgD9AP4AAQD/AAYAAQD/AP4A/wD/AAEAAQACAP8AAAIAAAAABwAHAAADABcAAAERIREBIREhESERIREhESERIREhESERIQQAAgD6AAEABQABAP0A/wABAP4ABQD6AP8ABQD+AAIAAQABAP8A/AABAAIAAQD7AP8AAQAAAgAAAAAHAAcAAAcAFwAAAREhESERIREpAREhESERIREhESERIREhAgADAP8A/wD9AAEAAQADAAEAAQD+AP0A/gAFAP4AAgABAP8AAQABAP8A/wD7AAIA/gAAAwAAAAAHAAcAAAMABwATAAABESERAREhEQEhESERIREhESERIQIAAwD9AAMA+wAGAAEA/wABAP8A+gADAP4AAgADAP4AAgABAP8A/gD/AP4A/wAAAQAAAAAHAAcAABsAABEhESERIREhESERIREhESERIREhESERIREhESEBAAEABAABAP4A/gD/AAEAAgACAP8A/AD/AP8ABQABAAEA/wD/AAEA/wD9AP8AAQD/AP8AAQABAAACAAAAAAcABwAABwATAAABESERIREhEQEhESERIREhESERIQIAAgABAP8A/AAFAAEAAQD/AP8A+wAGAPsAAQADAAEAAQD/AP8A/QD/AP8AAAEAAAAABwAHAAALAAARIREhESERIREhESEHAPsABAD8AAUA+QAHAP8A/gD/AP4A/wAAAQAAAAAHAAcAAAkAABEhESERIREhESEHAPsABAD8AP4ABwD/AP4A/wD9AAABAAAAAAcABwAAFwAAESERIREhESERIREhESERIREhESERIREhAQABAAUA/AD/AAEAAgD/AAMA+wD/AP8ABQABAAEA/wD/AP0A/wACAAEA/AABAAEAAAEAAAAABwAHAAALAAARIREhESERIREhESECAAMAAgD+AP0A/gAHAP0AAwD5AAMA/QAAAQEAAAAHAAcAAAsAAAERIREhESERIREhEQcA/gACAPoAAgD+AAcA/wD7AP8AAQAFAAEAAAEAAAAABwAHAAALAAARIREhESERIREhESECAAMAAgD/APsA/wACAP8ABgD6AP8AAQAAAQAAAAAHAAcAAB0AABEhESERIREhESERIREhESERIREhESERIREhESERIQIAAQABAAEAAgD/AP8A/wABAAEAAQD9AP8A/wD+AAcA/QABAAEAAQD/AP8A/wD/AP8A/wD/AAEAAQD+AAABAAAAAAcABwAABQAAESERIREhAgAFAPkABwD6AP8AAAEAAAAABwAHAAATAAARIREhESERIREhESERIREhESERIQIAAQABAAEAAgD+AP8A/wD/AP4ABwD/AP8AAQABAPkAAwD/AAEA/QAAAQAAAAAHAAcAABMAABEhESERIREhESERIREhESERIREhAgABAAEAAQACAP4A/wD/AP8A/gAHAP8A/wD/AAMA+QABAAEAAQD9AAACAAAAAAcABwAAAwAPAAABESERKQERIREhESERIREhAgADAPsAAQAFAAEA/wD7AP8ABgD7AAUAAQD/APsA/wABAAACAAAAAAcABwAAAwANAAABESERASERIREhESERIQIAAwD7AAYAAQD/APwA/gAGAP0AAwABAP8A/QD/AP4AAAIAAAAABwAHAAAHABkAAAERIREhESERKQERIREhESERIREhESEDIREhAgACAP8AAgD7AAEABQABAP8AAQD/AP8ACPwI/wAGAPsAAQABAAMAAQD/APwA/wD/AAEA/wABAAAAAgAAAAAHAAcAAAUAFwAAAREhESERASERIREhESERIREhESERIREhAgACAAEA+wAGAAEA/gABAAEA/QD/AP8A/gAGAP0AAQACAAEA/wD9AP8A/wD/AAEAAQD+AAABAAAAAAcABwAAGwAAESERIREhESERIREhESERIREhESERIREhESERIQIAAwD8AP8AAQAEAAEA/gD+AAQAAQD/APsA/wACAP8AAgABAAIAAQD/AP8AAQD+AP8A/gD/AAEAAAEBAAAABwAHAAAHAAABESERIREhEQcA/gD+AP4ABwD/APoABgABAAABAAAAAAcABwAACwAAESERIREhESERIREhAgADAAIA/wD7AP8ABwD6AAYA+gD/AAEAAAEAAAAABwAHAAAXAAARIREhESERIREhESERIREhESERIREhESECAAEAAQABAAIA/wD/AP8A/wD/AP8A/wAHAPwA/wABAAQA/AD/AP8A/wABAAEAAQAAAQAAAAAHAAcAABcAABEhESERIREhESERIREhESERIREhESERIQIAAQABAAEAAgD/AP8A/wD/AP8A/wD/AAcA/QABAP8AAwD7AP4AAQABAP8A/wACAAABAAAAAAcABwAAIwAAESERIREhESERIREhESERIREhESERIREhESERIREhESERIREhAQABAP8A/wACAAEAAQABAAIA/wD/AAEAAQD+AP8A/wD/AP4AAgABAAEAAQACAP8A/wABAAEA/gD/AP8A/wD+AAEAAQD/AP8AAAEBAAAABwAHAAAPAAABESERIREhESERIREhESERAwACAAIA/wD/AP4A/wD/AAcA/QADAP0A/wD9AAMAAQADAAABAAAAAAcABwAAFwAAESERIREhESERIREhESERIREhESERIREhAQABAAEAAQD8AAcA/wD/AP8A/wAEAPkAAgABAAEAAQABAAEA/gD/AP8A/wD/AP8AAAECAAAABgAHAAAHAAABESERIREhEQYA/gACAPwABwD/APsA/wAHAAABAQAAAAcABwAAFwAAAREhESERIREhESERIREhESERIREhESERAgABAAEAAQABAAEA/wD/AP8A/wD/AP8ABwD/AP8A/wD/AP8A/gABAAEAAQABAAEAAgAAAQIAAAAGAAcAAAcAAAERIREhESERBgD8AAIA/gAHAPkAAQAFAAEAAAEAAAMABwAHAAAbAAARIREhESERIREhESERIREhESERIREhESERIREhAQABAAEAAQABAAEAAQD/AP8A/wD/AP8A/wD/AAQAAQABAAEA/wD/AP8A/wABAAEAAQD/AP8A/wAAAQAA/wAHAAAAAAMAADEhESEHAPkA/wAAAQEABQAEAAcAAAcAAAERIREhESERAwABAP4A/wAHAP8A/wABAAEAAAIAAAAABwAFAAADAAsAAAERIREpAREhESERIQIAAwD7AAEABgD6AP8ABAD9AAMAAQD7AAEAAAIAAAAABwAHAAADAA0AAAERIREBIREhESERIREhAgADAPsAAgAEAAEA/wD6AAQA/QADAAMA/gD/AP0A/wAAAQAAAAAHAAUAAA8AABEhESERIREhESERIREhESEBAAUAAQD+AP0ABQD6AP8ABAABAP8A/wABAP0A/wABAAACAAAAAAcABwAAAwANAAABESERKQERIREhESERIQIAAwD7AAEABAACAPoA/wAEAP0AAwABAAIA+QABAAACAAAAAAcABQAAAwARAAABESERKQERIREhESERIREhESECAAMA+wABAAUAAQD7AAQA+wD/AAQA/wABAAEA/wD+AP8A/wABAAABAQAAAAcABwAAEwAAAREhESERIREhESERIREhESERIREGAAEA/gD/AAIA/gD+AP8AAQABAAcA/wD/AAEA/gD/AP0AAwABAAIAAQAAAgAA/wAHAAUAAAMAEQAAAREhESkBESERIREhESERIREhAgADAPsAAQAGAP8A+wAEAPwA/wAEAP4AAgABAPsA/wABAAEAAQAAAQAAAAAHAAcAAAsAABEhESERIREhESERIQIABAABAP4A/QD+AAcA/gD/APwABAD8AAACAgAAAAYABwAAAwANAAABESERASERIREhESERIQUA/gD/AAMAAQD8AAEA/wAHAP8AAQD+APwA/wABAAMAAAIBAP8ABQAHAAAJAA0AAAEhESERIREhESEBESERAgADAP8A/QACAP8AAwD+AAUA+wD/AAEABAADAP8AAQAAAQAAAAAGAAcAABcAABEhESERIREhESERIREhESERIREhESERIQIAAQABAAIA/wD/AAEAAQD+AP8A/wD+AAcA/AABAAEA/wD/AP8A/wD/AAEAAQD+AAABAgAAAAYABwAACQAAAREhESERIREhEQUAAQD8AAEA/wAHAPoA/wABAAUAAQAAAQAAAAAHAAUAABEAABEhESERIREhESERIREhESERIQMAAQACAAEA/gD/AP8A/wD+AAUA/wABAP8A/AADAP8AAQD9AAABAAAAAAcABQAACQAAESERIREhESERIQYAAQD+AP0A/gAFAP8A/AAEAPwAAAIAAAAABwAFAAADAA8AAAERIREpAREhESERIREhESECAAMA+wABAAUAAQD/APsA/wAEAP0AAwABAP8A/QD/AAEAAAIAAP8ABwAFAAADAA0AAAERIREBIREhESERIREhAgADAPsABgABAP8A/AD+AAQA/QADAAEA/wD9AP8A/wAAAgAA/wAHAAUAAAMADQAAAREhESkBESERIREhESECAAMA+wABAAYA/gD8AP8ABAD9AAMAAQD6AAEAAQAAAQAAAAAHAAUAAAkAABEhESERIREhESEGAAEA/gD9AP4ABQD/AP8AAQD8AAABAAAAAAcABQAAEwAAESERIREhESERIREhESERIREhESEEAP0A/wABAAUA/QADAAEA/wD6AAEAAQABAAEAAQD/AP8A/wD/AP8AAAEAAAAABwAGAAATAAARIREhESERIREhESERIREhESERIQIAAgACAP4AAQACAP8A/QD/AP4ABQABAP8A/wD9AAEA/wD/AAEAAwAAAQAAAAAHAAUAAAkAABEhESERIREhESECAAMAAgD6AP8ABQD8AAQA+wABAAABAAAAAAcABQAAFwAAESERIREhESERIREhESERIREhESERIREhAgABAAEAAQACAP8A/wD/AP8A/wD/AP8ABQD+AP8AAQACAP4A/wD/AP8AAQABAAEAAAEAAAAABwAFAAATAAARIREhESERIREhESERIREhESERIQIAAQABAAEAAgD/AP4A/wD+AP8ABQD9AAEA/wADAPwA/wABAP8AAQAAAQAAAAAHAAUAACMAABEhESERIREhESERIREhESERIREhESERIREhESERIREhESERIQEAAQD/AP8AAgABAAEAAQACAP8A/wABAAEA/gD/AP8A/wD+AAEAAQABAAEAAQD/AP8AAQABAP8A/wD/AP8A/wABAAEA/wD/AAABAAD/AAcABQAADwAAESERIREhESERIREhESERIQIAAwACAP8A+wAEAPwA/wAFAP0AAwD7AP8AAQABAAEAAAEAAAAABwAFAAATAAARIREhESERIREhESERIREhESERIQEAAQABAP0ABwD/AP8A/wADAPkAAQABAAEAAQABAP8A/wD/AP8A/wAAAQEAAAAGAAcAABMAAAERIREhESERIREhESERIREhESERBgD+AP8AAQACAP0A/wD/AAEAAQAHAP8A/gD/AP4A/wABAAIAAQACAAEAAAEDAP8ABQAHAAADAAABESERBQD+AAcA+AAIAAABAgAAAAcABwAAEwAAAREhESERIREhESERIREhESERIREFAAEAAQD/AP8A/QACAAEA/wD+AAcA/wD+AP8A/gD/AAEAAgABAAIAAQAAAQAAAQAHAAUAABMAABEhESERIREhESERIREhESERIREhAQACAAEAAgABAP8A/gD/AP4A/wAEAAEA/wD/AAEA/gD/AAEAAQD/AAAEAAAAAAcABwAAAwALAA8AHwAAAREhGQIhESERIREBESERASERIREhESERIREhESERIQMA/wADAP8A/wACAP8A/AABAAEAAwABAAEA/gD9AP4ABwD/AAEA/AD/AAEAAQD/AAQA/wABAPwAAQABAP8A/wD9AAEA/wAAAAMAAAAABwAHAAADAAsAHwAAAREhEQERIREhESERKQERIREhESERIREhESERIREhESEDAAEA/gADAP8A/wD9AAEAAQABAAEAAQABAAEA/gD9AP4ABgD/AAEA/QD/AAEAAQD/AAEAAgABAP8A/gD/AP0AAQD/AAABAAD/AAcABwAAIwAAESETMxMhESERIREhESERIREhESERIREhESERIREhESERIREhAQAI+AgD+AEA/gD+AP8AAQACAAIA/wD/AP8A/wABAP4A/wD/AAUAAQABAP8A/wABAP8A/gD/AAEA/wD/AP8A/wABAAEAAQABAAAAAQEAAAAHAAcAABMAAAERIREhESERIREhESERIREhESERBQD/AAMA/AADAP0ABAD6AAIAAQAHAP8A/wD/AP8A/wD/AP8ABQABAAEAAAIAAAAABwAHAAAJACEAAAERIREhESERIREBIREhEyERIREhESERIREhESERIREhESECAAEAAQABAP4A/QABAAEACAH4AQABAP8AAgD+AP8A/wD/AP4ABgD+AP8A/wADAAEA/wABAAEA/wABAP8A/wD7AAEAAQABAP0AAAAEAAAAAAcABwAAAwAHAAsAFwAAAREhGQIhGQIhEQEhEyERIREhESERIQMA/wADAP8A/AABAAgE+AEA/wD7AP8ABwD/AAEA/QD9AAMAAwD/AAEA/QABAP8A/QD/AAEAAAADAAAAAAcABwAAAwAHABMAAAERIREhESERASERIREhESERIREhAwD/AAMA/wD8AAIAAwACAP8A+wD/AAcA/wABAP8AAQD+APwABAD8AP8AAQAAAgEAAAAHAAcAAAMAGQAAAREhEQERIREhESERIREhESERIREhESERIREDAAEAAQD/AAIAAQD+AP8A/gD/AAEAAQABAAQA/QADAAMA/wD/APwA/wABAP8AAQADAAEAAQABAAACAQAAAAcABwAAAwAZAAABESERAREhESERIREhESERIREhESERIREhEQMAAQD/AAEAAgABAP4A/wD+AP8AAQABAP8ABAD9AAMAAwD/AP8A/AD/AAEA/wABAAMAAQABAAEAAAMBAAAABwAHAAADAAcAGwAAAREhEQERIRkCIREhESERIREhESERIREhESERAwABAP4AAwABAAEA/gD/AP4A/wABAP8AAQAEAP0AAwACAP8AAQABAP8A+wD/AAEA/wABAAMAAQABAAEAAAAEAQAAAAcABwAAAwAHAAsAGQAAAREhEQERIREBESERASERIREhESERIREhESEDAP8AAQABAAEA/wD+AAQAAQD+AP8A/gD/AAEABwD/AAEA/QD9AAMAAwD/AAEA/gD8AP8AAQD/AAEAAwAAAwEAAAAHAAcAAAMABwAhAAABESEZAiEZAiERIREhESERIREhESERIREhESERIREhEQIAAQABAAEAAQD/AAEAAQD+AP8A/gD/AAEA/wABAAYA/wABAP4A/QADAAMA/wABAP8A/wD8AP8AAQD/AAEAAwABAAEAAQAAAwEAAAAHAAcAAAMABwAhAAABESERAREhGQIhESERIREhESERIREhESERIREhESERIREDAAEA/wABAAEA/wACAAEA/gD/AP4A/wABAAEA/wABAAMA/gACAAMA/wABAAEA/wD/AP8A/QD/AAEA/wABAAIAAQABAAEAAQAAAAEBAP8ABgAGAAAfAAABIREhESERIREhESERIREhESERIREhESERIRElNSERIQIAAwABAP4A/wD/AAEAAgABAP8A/wD/AP8AAQD/AP8AAQAGAP8A/wABAP8A/wD/AAEA/wD/AP8A/wABAAEACPgDAAACAQAAAAYABwAAAwAZAAABESEZAiERBRUhESERIREhESERIREhESERAwACAP8AAQABAP0AAgD9AP8AAQABAAEABAD/AAEAAwD/AP8ACPj+AP8A/wABAAMAAQABAAEAAAACAQAAAAYABwAAAwAZAAABESERAREhEQUVIREhESERIREhESERIREhEQMAAgD+AAEAAQABAP0AAgD9AP8AAQABAP8ABAD/AAEAAwD/AP8ACPj+AP8A/wABAAMAAQABAAEAAAMBAAAABgAHAAADAAcAHQAAAREhEQERIRkCIREhESERIREhESERIREhESERIREDAAIA/QADAAEA/wABAP0AAgD9AP8AAQD/AAEABAD/AAEAAgD/AAEAAQD/AP8A/wD+AP8A/wABAAMAAQABAAEAAAAEAQAAAAYABwAAAwAHAAsAGQAAAREhEQERIRkCIREBIREhESERIREhESERIQMA/wABAAIA/wD+AAMAAQD9AAIA/QD/AAEABwD/AAEA/QD/AAEAAwD/AAEA/gD/AP4A/wD/AAEAAwAAAAICAAAABQAHAAAFAA0AAAEhESERIQERIREhESERAgADAP4A/wADAP8A/wABAAQA/AADAAQA/wD/AAEAAQAAAgIAAAAFAAcAAAUADQAAASERIREhAREhESERIRECAAMA/gD/AAIAAQD/AP8ABAD8AAMABAD/AP8AAQABAAACAQAAAAYABwAABQARAAABIREhESEBESERIREhESERIRECAAMA/gD/AAMAAQD/AP0A/wABAAQA/AADAAQA/wD/AAEA/wABAAEAAAMCAAAABQAGAAADAAkADQAAASERIREhESERIQEhESECAAEA/wADAP4A/wACAAEA/wAGAP8A/wD8AAMAAwD/AAACAQAAAAcABwAADwAfAAABIREhESERIREhESERIREhAREhESERIREhESERIREhEQEAAQABAAMAAQD+AP8A/gD/AAQAAQABAP8A/gD/AP8AAQAEAP8AAQD/AP0AAwD9AAMABAD/AAEA/wD/AAEA/wABAAEAAAIBAAAABgAHAAADABcAAAERIREBESERBRUhESERIREhESERIREhEQMAAQABAP8AAQABAP8A/QD/AAEAAQABAAQA/QADAAMA/wD/AAj4/QD/AAEAAwABAAEAAQAAAgEAAAAGAAcAAAMAFwAAAREhEQERIREFFSERIREhESERIREhESERAwABAP8AAQABAAEA/wD9AP8AAQABAP8ABAD9AAMAAwD/AP8ACPj9AP8AAQADAAEAAQABAAADAQAAAAYABwAAAwAHABsAAAERIREBESEZAiERIREhESERIREhESERIREhEQMAAQD+AAMAAQD/AAEA/wD9AP8AAQD/AAEABAD9AAMAAgD/AAEAAQD/AP8A/wD9AP8AAQADAAEAAQABAAAABAEAAAAGAAcAAAMABwALABcAAAERIREBESERAREhEQEhESERIREhESERIQMA/wABAAEAAQD/AP4AAwABAP8A/QD/AAEABwD/AAEA/QD9AAMAAwD/AAEA/gD/AP0A/wABAAMAAAMBAAAABgAHAAADAAcAHQAAAREhGQIhGQIhESERIREhESERIREhESERIREhEQIAAQABAAEAAQD/AAEA/wD9AP8AAQD/AAEABgD/AAEA/gD9AAMAAwD/AAEA/wD+AP0A/wABAAMAAQABAAEAAAIBAAAABwAHAAADABcAAAERIREBESERIREhESERIREhESERIREhEQMAAQABAP8AAgABAP4A/wD+AP8AAgABAAUA/AAEAAIA/wD/APwA/wABAP8AAQAEAAEAAQAAAgEAAAAHAAcAAAMAFwAAAREhEQERIREhESERIREhESERIREhESERAwABAP8AAQACAAEA/gD/AP4A/wACAP8ABQD8AAQAAgD/AP8A/AD/AAEA/wABAAQAAQABAAACAQAAAAcABwAACwAbAAABESERIREhESERIREBIREhESERIREhESERIREhBQABAP8A/QD/AAEA/wACAAEAAgABAP4A/wD+AP8ABwD/AP8AAQD/AAEAAQD9AP0AAwD9AP8AAQD/AAEAAAMBAAAABwAHAAADAAcAFwAAAREhESERIREBIREhESERIREhESERIREhAwD/AAMA/wD9AAIAAQACAAEA/gD/AP4A/wAHAP8AAQD/AAEA/gD8AAQA/AD/AAEA/wABAAABAQAAAAcABwAADwAAAREhESERIREhESERIREhEQUAAQABAP4A/gD+AAEAAQAHAP8A/wD/APwABAABAAEAAQAAAgEAAgAGAAcAAAMADwAAAREhEQEhESERIREhESERIQIAAwD9AAMAAQD/AP0A/wABAAYA/QADAAEA/wD9AP8AAQADAAACAQAAAAYABwAAAwAfAAABESERAREhESERIREhESERIREhESERIREhESERIREhEQIAAQABAAEAAQD/AP8AAQABAP8A/wD/AP8A/wABAAEABQD9AAMAAgD/AP8A/wABAP0AAQD/AP8A/wABAAEAAwABAAEAAAEAAAAABwAHAAAbAAARIREhESERIREhESERIREhESERIREhESERIREhAQD/AAEAAQAEAAEA/gD+AAIA/gACAAIA/wD6AAEAAgABAAIAAQD/AP8AAQD+AP8A/gABAP8A/wAAAQEAAQAGAAUAAAsAAAEhESERIREhESERIQIAAwABAP8A/QD/AAEABQD/AP4A/wABAAIAAAIAAAAABwAHAAAJABsAAAERIREhESERIREpARMhESERIREhESERIREhESECAAEAAgD/AAEA+wABAAgE+AEA/wABAP8A/QD/AP4ABgD9AP8AAgABAAEAAQD/AP8A/wD+AP8AAQD+AAAABQAA/wAIAAcAAAMABwAPAB0AMQAAAREhEQERIREBESERIREhEQERIREhESERIREhESERASERIRMhESERIREhESEDIREhESEBAAEAAQACAP0ABAD/AP4A/wADAAEA/wABAAEA/wD6AAEAAQAIA/gBAAEA/wD/AAj8CP8A/wAFAPwABAD/AP8AAQD9AP8AAQABAP8ABQD/AP8A/wD/AP8ABAABAP8AAQABAP8A/wD8AP8A/wABAAEAAAMAAAAACAAHAAALABcAKwAAASERIREhESERIREhAREhESERIREhESERKQERIRMhESERIREhESEDIREhESEDAAIA/gACAP4A/wABAP4AAQAEAAEA/wD8AP4AAQABAAgD+AEAAQD/AP8ACPwI/wD/AAUA/wD/AP8AAQABAAEA/QD/AAEAAwABAP8AAQABAP8A/wD9AP8A/wABAAEAAAIAAAIABwAHAAAHABMAABEhESERIREhAREhESERIREhESERAwD/AP8A/wAFAAEAAQD/AP8A/wAHAP8A/AAEAAEA/wABAPsAAgD+AAUAAAIAAAAABwAHAAADABcAAAERIREpAREhEyERIREhESERIREhESERIQIAAQD9AAEAAQAIBPj+AAEA/wACAPwA/wD+AAUA/gACAAEAAQD/AP4A/wD+AP8AAgD+AAAAAwAAAAAHAAcAAAcADwAbAAABESERIREhEQERIREhESERKQETIREhESERIREhAgADAP8A/wD/AAEAAQABAPsAAQAIBPgBAP8A+wD/AAIA/wADAP8A/wAEAP0AAQABAAEAAQD/APsA/wABAAAAAQEAAAAHAAcAABcAAAERIREhESERIREhESERIREhESERIREhEQMAAgACAP8A/wACAP4A/gD+AAIA/wD/AAcA/QADAP0A/wD/AP8A/wABAAEAAQABAAMAAAMAAAAABwAFAAADAAcAGQAAAREhEQERIREBIREhESERIREhESERIREhESECAAEAAgABAPoAAQACAP4ABQABAP4AAgD6AP8AAgD/AAEAAgD/AAEA/gABAAEAAQD/AP4A/wD/AAEAAAMAAAAABwAFAAADAAcAGwAAAREhEQERIREBIREhEyERIREhESERIREhESERIQMAAQD/AAEA/AABAAEACAL4AQABAP8A/wD9AP8A/wACAP8AAQACAP8AAQD9AAMAAQD/AAEA/wD9AP8AAQD/AAAAAgAAAAAHAAcAAAMAFwAAASERIQEhESERIREhESERIREhESERIREhBQD9AAMAAgD/APsA/wABAAEAAwD/AP4AAwACAAYAAQD6AP8AAQACAAEAAQD/AP8A/gABAAACAgAAAAYABwAAAwAPAAABIREhAREhESERIREhESERAwACAP4AAgABAP8A/gD/AAEABgABAPkAAQADAAEA/wD9AP8AAAIBAAEABwAGAAATACcAAAEhESERIREhESERIREhESERIREhASERIREhESERIREhESERIREhESEDAAEA/wD/AAEAAQD/AP8A/wABAAEAAwABAP8A/wABAAEA/wD/AP8AAQABAAYA/wD/AP8A/wD/AAEAAQABAAEAAQD/AP8A/wD/AP8AAQABAAEAAQAAAgEAAQAHAAYAABMAJwAAASERIREhESERIREhESERIREhESEBIREhESERIREhESERIREhESERIQEAAQABAAEA/wD/AP8AAQABAP8A/wADAAEAAQABAP8A/wD/AAEAAQD/AP8ABgD/AP8A/wD/AP8AAQABAAEAAQABAP8A/wD/AP8A/wABAAEAAQABAAADAAABAAcAAwAAAwAHAAsAABEhESEBIREhASERIQEA/wADAAEA/wADAAEA/wADAP4AAgD+AAIA/gAAAgAAAAAHAAcAAAcAHwAAAREhESERIREpAREhESERIREhESERIREhESERIREhESECAAMA/wD/AP0AAQABAAEA/wABAAEAAQABAAEA/gD9AP4AAwD/AAEAAQD/AAEAAQABAAEA/wD/AP8A/wD9AAEA/wAAAwAAAAAHAAcAAAMACwAlAAABESERAREhESERIREpAREhESERIREhESERIREhESERIREhESERIQIAAQD/AAMA/wD/AP0AAQABAP8AAQACAAEAAQD/AAEAAQD+AP0A/gAGAP8AAQD9AP8AAQABAP8AAQABAAEAAQD/AAEA/wD+AP8A/QABAP8AAAMAAAAABwAHAAADAAcAHQAAAREhEQERIREpAREhEyERIREhESERBRUhESERIREhAgABAP8AAwD7AAEAAQAIAfgBAAEA/wABAAEA/wD7AP8ABgD/AAEA/gD9AAMAAgABAP8AAQD/AP8ACPj9AP8AAQAAAAEAAAAABwAHAAAXAAARIREhESERIREhESERIREhESERIREhESEBAAIAAQACAAEA/wD/AP8A/wD/AP8A/wAGAAEA/wABAP8A/QD/AP8A/wABAAEAAQAAAQEAAAAHAAcAABkAAAERIREhESERIREhESERIREhESERIREhESERBQABAAEA/wD/AAEA/wD/AP8A/wD/AAEAAQAHAP8A/wD/AP8AAQABAAEA+wD/AAEAAQABAAQAAAEBAAMABgAEAAADAAABIREhAQAFAPsABAD/AAABAAADAAgABAAAAwAAESERIQgA+AAEAP8AAAEBAAQABwAHAAAPAAABESERIREhESERIREhESERAwABAAIAAQD+AP8A/gD/AAcA/gACAP4A/wABAP8AAQACAAABAAAEAAYABwAADwAAESERIREhESERIREhESERIQEAAgABAAIA/wD+AP8A/gAFAAIA/gACAP4A/wABAP8AAAEEAAMABgAHAAAJAAABESERIREhESERBgD/AAEA/wD/AAcA/gD/AP8AAQADAAABAQADAAMABwAACQAAAREhESERIREhEQMA/wD/AAEA/wAHAP0A/wABAAEAAgAAAwEAAQAGAAYAAAMABwALAAABIREhESERIQEhESEDAAEA/wABAP8A/gAFAPsAAgD/AAUA/wD/AP8AAAMBAP8ABwAHAAADAAcAIwAAAREhESERIREBIREhESERIREhESERIREhESERIREhESERIREhBAD/AAMA/wD8AAIAAQABAAEAAQD/AP8A/wD+AAEAAQD/AP8A/wAHAP8AAQD/AAEA/gD/AP8AAQABAP8A/gD/AP4AAQABAAEAAQABAAADAQAAAAcABwAAAwAHABcAAAERIREhESERASERIREhESERIREhESERIQMA/wAEAP8A/AACAAIAAgD/AP8A/gD/AP8ABwD/AAEA/wABAP4A/gACAP4A/wD+AAIAAQAAAQAAAAAHAAcAACMAABEhESERIREhESERIREhESERIREhESERIREhESERIREhESERIQEA/wACAAEAAwABAP8A/gABAP4AAgD/AAIAAQD/AP0A/wD+AAMAAQABAAEAAQD/AP8AAQD/AP8A/wD/AP8AAQD/AP8AAQABAAABAQABAAQABgAAEwAAASERIREhESERIREhESERIREhESEEAP8A/wABAAEA/wD/AP8AAQABAAEABQD/AP8A/wD/AAEAAQABAAEAAQAAAQMAAQAGAAYAABMAAAERIREhESERIREhESERIREhESERBAABAAEA/wD/AP8AAQABAP8A/wAGAP8A/wD/AP8A/wABAAEAAQABAAEAAAEBAAAABwAHAAAPAAABESERIREhESERIREhESERBQACAP8A/wD+AP8A/wACAAcA/AD/AP8A/wABAAEAAQAEAAABAgADAAQABQAAAwAAASERIQIAAgD+AAUA/gAAAwAAAAAHAAcAAAcACwAjAAABESERIREhEQERIREBIREhESERIREhESERIREhESERIREhESECAAMA/wD/AP8AAwD7AAEAAQD/AAEAAwABAP8AAQABAP4A/QD+AAMA/wABAAEA/wADAP8AAQD9AAEAAQABAAEA/wD/AP8A/wD9AAEA/wAAAgEAAAAHAAcAAAMAFwAAAREhGQIhEQUVIREhESERIREhESERIREDAAIAAQABAPwAAwD9AAQA+gABAAEABgD/AAEAAQD/AP8ACPj/AP8A/wD/AAUAAQABAAAAAgAAAAAHAAcAAAcAHwAAAREhESERIREpAREhESERIREhESERIREhESERIREhESECAAMA/wD/AP0AAQABAAEAAQABAP8AAQABAAEA/gD9AP4AAwD/AAEAAQD/AAEAAQABAAEA/wD/AP8A/wD9AAEA/wAAAwEAAAAHAAcAAAMABwATAAABESERIREhEQEhESERIREhESERIQQA/wADAP8A/AAGAPwAAwD9AAQA+gAHAP8AAQD/AAEA/gD/AP8A/wD/AP8AAAEBAAAABwAHAAATAAABESERIREhESERIREhESERIREhEQQAAQACAPwAAwD9AAQA+gADAP8ABwD/AP8A/wD/AP8A/wD/AAUAAQABAAABAQAAAAcABwAAEwAAAREhESERIREhESERIREhESERIREFAP8AAwD+AAIA+gACAP4AAgABAAcA/wD/AP8A/QD/AAEAAwABAAEAAQAAAgEAAAAHAAcAAAMAFwAAAREhGQIhEQUVIREhESERIREhESERIREDAAIAAQABAP4AAgD6AAIA/gABAAEABgD/AAEAAQD/AP8ACPj9AP8AAQADAAEAAQABAAAAAwEAAAAHAAcAAAMABwATAAABESERIREhEQEhESERIREhESERIQMA/wAEAP8A/AAGAP4AAgD6AAIA/gAHAP8AAQD/AAEA/gD/AP0A/wABAAMAAAEBAAAABwAHAAATAAABESERIREhESERIREhESERIREhEQQAAQACAP4AAgD6AAIA/gADAP8ABwD/AP8A/wD9AP8AAQADAAEAAQABAAACAAAAAAcABwAAAwAXAAABESERKQERIREhESERIREhESERIREhESECAAMA+wABAAIAAQABAP8AAgABAP8A+wD/AAQA/QADAAEAAQABAP8A/wD/AP0A/wABAAADAAAAAAcABwAAAwAHABcAAAERIREBESERASERIREhESERIREhESERIQIAAwD9AAMA+wABAAEAAwABAAEA/wD7AP8ABAD9AAMAAgD/AAEA/gACAAEA/wD+AP0A/wABAAACAAAAAAcABwAAAwAXAAABESERKQERIREhESERIREhESERIREhESECAAMA+wABAAIA/wABAAEAAgABAP8A+wD/AAQA/QADAAEAAQABAP8A/wD/AP0A/wABAAACAAAAAAcABwAABwATAAABESERIREhEQEhESERIREhESERIQUA/wD/AAEA/AACAAMAAgD/APsA/wAHAP8A/wABAAEA/gD8AAQA/AD/AAEAAAIAAAAABwAHAAALABcAAAERIREhESERIREhEQEhESERIREhESERIQUAAQD/AP0A/wABAP4AAgADAAIA/wD7AP8ABwD/AP8AAQD/AAEAAQD9AP0AAwD9AP8AAQAAAgAAAAAHAAcAAAcAEwAAAREhESERIREBIREhESERIREhESEDAAEA/wD/AP4AAgADAAIA/wD7AP8ABwD/AP8AAQABAP4A/AAEAPwA/wABAAABAAAAAAcABwAAFwAAESETMxMhESERIREhESERIREhESERIREhAQAJ9wkD9wEA/gD+AAIAAgD/APwA/wD/AAUAAQABAP8A/wD/AP8A/wD/AP8AAQABAAAAAwAAAAAHAAcAAAcADwAjAAABESERIREhESERIREhESERASERIREhESERIREhESEDIREhESEBAAIA/gABAAIAAgD+AAEA+wABAAEAAwABAAEA/wD/AAn+Cf8A/gADAP8AAwD/AP8A/wADAP8A/wACAAEAAQD/AP8A+wABAP8AAQD/AAAAAgMAAAAEAAcAAAMABwAAASERIQERIREDAAEA/wABAP8AAwD9AAcA/QADAAACAAAAAAcABwAACwAbAAABESERIREhESERIREBIRMhESERIREhESERIREhAwABAAEA/wD/AAEA/AABAAgD+AEAAQD/AP8A/AD/AAMA/gABAAMAAQD+AP8AAQADAP8A/wD9AP8A/wADAAAABAEAAAAGAAcAAAMABwALACEAAAERIRkCIREBESEZAiERIREhEQURIREhESERIREhESERAgABAAEA/wABAAEAAQD/AAEA/wD9AP8AAQD/AAEABgD/AAEA/QD+AAIAAgD/AAEAAgD/AAEA/wD/AAj8CP8AAQACAAIAAQABAAAAAQEAAAAHAAcAABcAAAERIREhESERIREhESERIREhESERIREhEQUA/wD/AAIAAgD/AP8A/gD/AP8AAgABAAcA/wD/AP4AAgD+AP8A/gACAAEAAgABAAEAAAIBAP8ABwAHAAAHACMAAAERIREhESERASERIREhESERIREhESERIREhESERIREhESERIQYA/wD/AAEA/AACAAEAAQABAAEA/wD/AP8A/gABAAEA/wD/AP8ABwD/AP8AAQABAP4A/wD/AAEAAQD/AP4A/wD+AAEAAQABAAEAAQAAAgAAAAAHAAcAAAMADwAAAREhEQEhESERIREhESERIQIAAwD7AAIABAABAP8A/AD+AAUA/QADAAIA/wD/AP0A/wD/AAACAQD/AAcABwAAAwATAAABESERAREFFSERIREhESERIREhEQQAAQD+AAEAAgABAP8A/gD+AP8ABAD+AAIAAwD/AAj4/wD+AP8A/gAHAAEAAAEBAAMABgAEAAADAAABIREhAQAFAPsABAD/AAABAQABAAYABgAAIwAAASERIREhESERIREhESERIREhESERIREhESERIREhESERIREhAQABAAEA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)");
	await PressStart.load();
	document.fonts.add(PressStart);
	
	tileImage.onload = ()=> {
	document.body.appendChild(mainCanvas = document.createElement('canvas'));
        document.body.style = 'margin:0;overflow:hidden;background:#000';
        mainCanvas.style = 'position:absolute;width:100%;height:100%;image-rendering:crisp-edges;image-rendering:pixelated';          // pixelated rendering
        mainContext = mainCanvas.getContext('2d');
	mainContext.canvas.width  = window.innerWidth/6;
  	mainContext.canvas.height = window.innerHeight/6;
	mainContext.imageSmoothingEnabled = false;
		
	mainCanvas.addEventListener('click', function(evt) {
 	let x = evt.pageX/6;
 	let y = evt.pageY/6;
  	if (x > (mainCanvas.width/2 - 24) && x < (mainCanvas.width/2 + 24) && y < (mainCanvas.height/2 + 8) && y > (mainCanvas.height/2 - 8)) {
	if (game == false) {
	mainContext.clearRect(0, 0, mainCanvas.width, mainCanvas.height);
	game = true;
	runGame();
  	}}
	}, false);

	document.onmousemove = function(evt)
	{
	 let x = evt.pageX/6;
	 let y = evt.pageY/6;

	sy = 48.5
	if (x > (mainCanvas.width/2 - 24) && x < (mainCanvas.width/2 + 24) && y < (mainCanvas.height/2 + 8) && y > (mainCanvas.height/2 - 8))
	{sy = 64.5}
	mainContext.clearRect(0, 0, mainCanvas.width, mainCanvas.height);
	mainContext.drawImage(tileImage, 48,sy, 48, 16, (mainCanvas.width/2) - 24, (mainCanvas.height/2) - 8, 48, 16)
	}}
	tileImage.src = "data:image/png;base64,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";

}

function engineInit(appInit, appUpdate, appUpdatePost, appRender, appRenderPost)
{
    // init engine when tiles load
    tileImage.onload = ()=>
    {
        // save tile image info
        tileImageSizeInverse = vec2(1).divide(tileImageSize = vec2(tileImage.width, tileImage.height));
        //debug && (tileImage.onload=()=>ASSERT(1)); // tile sheet can not reloaded
        shrinkTilesX = tileBleedShrinkFix/tileImageSize.x;
        shrinkTilesY = tileBleedShrinkFix/tileImageSize.y;

        // setup html
        //document.body.appendChild(mainCanvas = document.createElement('canvas'));
        //document.body.style = 'margin:0;overflow:hidden;background:#000';
        mainCanvas.style = 'position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);image-rendering:crisp-edges;image-rendering:pixelated';          // pixelated rendering
        //mainContext = mainCanvas.getContext('2d');

	console.log("init");	

        debugInit();
        glInit();
        appInit();
        engineUpdate();	
    };

    // main update loop
    const engineUpdate = (frameTimeMS=0)=>
    {
        requestAnimationFrame(engineUpdate);
        
        if (!document.hasFocus())
            inputData[0].length = 0; // clear input when lost focus

        // prepare to update time
        const realFrameTimeDeltaMS = frameTimeMS - frameTimeLastMS;
        let frameTimeDeltaMS = realFrameTimeDeltaMS;
        frameTimeLastMS = frameTimeMS;
        realTime = frameTimeMS / 1e3;
        if (debug)
            frameTimeDeltaMS *= keyIsDown(107) ? 5 : keyIsDown(109) ? .2 : 1;
        if (!paused)
            frameTimeBufferMS += frameTimeDeltaMS;

        // update frame
        mousePosWorld = screenToWorld(mousePosScreen);
        updateGamepads();

        // apply time delta smoothing, improves smoothness of framerate in some browsers
        let deltaSmooth = 0;
        if (frameTimeBufferMS < 0 && frameTimeBufferMS > -9)
        {
            // force an update each frame if time is close enough (not just a fast refresh rate)
            deltaSmooth = frameTimeBufferMS;
            frameTimeBufferMS = 0;
            //debug && frameTimeBufferMS < 0 && console.log('time smoothing: ' + -deltaSmooth);
        }
        //debug && frameTimeBufferMS < 0 && console.log('skipped frame! ' + -frameTimeBufferMS);

        // clamp incase of extra long frames (slow framerate)
        frameTimeBufferMS = min(frameTimeBufferMS, 50);
        
        // update the frame
        for (;frameTimeBufferMS >= 0; frameTimeBufferMS -= 1e3 / FPS)
        {
            // main frame update
            appUpdate();
            engineUpdateObjects();
            appUpdatePost();
            debugUpdate();

            // update input
            for(let deviceInputData of inputData)
                deviceInputData.map(k=> k.r = k.p = 0);
            mouseWheel = 0;
        }

        // add the smoothing back in
        frameTimeBufferMS += deltaSmooth;

        if (fixedWidth)
        {
            // clear and fill window if smaller
            mainCanvas.width = fixedWidth;
            mainCanvas.height = fixedHeight;
            
            // fit to window width if smaller
            const fixedAspect = fixedWidth / fixedHeight;
            const aspect = innerWidth / innerHeight;
            mainCanvas.style.width = aspect < fixedAspect ? '100%' : '';
            mainCanvas.style.height = aspect < fixedAspect ? '' : '100%';
        }
        else
        {
            // fill the window
            mainCanvas.width = min(innerWidth, maxWidth);
            mainCanvas.height = min(innerHeight, maxHeight);
        }

        // save canvas size
        mainCanvasSize = vec2(mainCanvas.width, mainCanvas.height);
        mainContext.imageSmoothingEnabled = !pixelated; // disable smoothing for pixel art

        // render sort then render while removing destroyed objects
        glPreRender(mainCanvas.width, mainCanvas.height);
        appRender();
        engineObjects.sort((a,b)=> a.renderOrder - b.renderOrder);
        for(const o of engineObjects)
            o.destroyed || o.render();
        glCopyToContext(mainContext);
        appRenderPost();
        debugRender();

        if (showWatermark)
        {
            // update fps
            debugFPS = lerp(.05, 1e3/(realFrameTimeDeltaMS||1), debugFPS);
            mainContext.textAlign = 'right';
            mainContext.textBaseline = 'top';
            mainContext.font = '1em monospace';
            mainContext.fillStyle = '#000';
            const text = engineName + ' ' + engineVersion + ' / ' 
                + drawCount + ' / ' + engineObjects.length + ' / ' + debugFPS.toFixed(1);
            mainContext.fillText(text, mainCanvas.width-3, 3);
            mainContext.fillStyle = '#fff';
            mainContext.fillText(text, mainCanvas.width-2,2);
            drawCount = 0;
        }

        // copy anything left in the buffer if necessary
        glCopyToContext(mainContext);
    }
	tileImage.src = "data:image/png;base64,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";

}

function engineUpdateObjects()
{
    // recursive object update
    const updateObject = (o)=>
    {
        if (!o.destroyed)
        {
            o.update();
            for(const child of o.children)
                updateObject(child);
        }
    }
    for(const o of engineObjects)
        o.parent || updateObject(o);
    engineObjects = engineObjects.filter(o=>!o.destroyed);
    engineCollideObjects = engineCollideObjects.filter(o=>!o.destroyed);
    time = ++frame / FPS;
}

function forEachObject(pos, size=0, callbackFunction=(o)=>1, collideObjectsOnly=1)
{
    const objectList = collideObjectsOnly ? engineCollideObjects : engineObjects;
    if (!size)
    {
        // no overlap test
        for (const o of objectList)
            callbackFunction(o);
    }
    else if (size.x != undefined)
    {
        // aabb test
        for (const o of objectList)
            isOverlapping(pos, size, o.pos, o.size) && callbackFunction(o);
    }
    else
    {
        // circle test
        const sizeSquared = size**2;
        for (const o of objectList)
            pos.distanceSquared(o.pos) < sizeSquared && callbackFunction(o);
    }
}
